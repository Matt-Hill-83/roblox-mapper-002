# Vertical Swimlanes - Task List

## Completed Implementation Tasks

1. ✅ T1: Connect Y Group Dropdown to Data Flow
   1. ✅ T1.1: Update GUI state manager to track Y axis property
   2. ✅ T1.2: Pass Y axis property through config to renderer
   3. ✅ T1.3: Update axis mapping interface to include yAxis property

2. ✅ T2: Implement Y Property-Based Positioning
   1. ✅ T2.1: Create Y property resolver similar to X/Z resolvers (uses existing property resolver)
   2. ✅ T2.2: Calculate Y positions based on property values
   3. ✅ T2.3: Group nodes by Y property value
   4. ✅ T2.4: Apply Y positioning after X,Z positioning

3. ✅ T3: Create Y-Parallel Shadow Blocks
   1. ✅ T3.1: Create YParallelShadowCreator module
   2. ⚠️ T3.2: Calculate shadow block dimensions from group footprint (currently uses fixed dimensions)
   3. ✅ T3.3: Create floating shadow blocks at each Y level
   4. ✅ T3.4: Apply 70% transparency to Y shadow blocks

4. ⬛ T4: Add Swimlane Shadows on Walls (OLD SYSTEM - needs update)
   1. ⬛ T4.1: Extend wall shadow system to support Y-based shadows
   2. ⬛ T4.2: Project Y swimlanes onto vertical walls
   3. ⬛ T4.3: Add labels to wall shadows for Y property values

5. ✅ T5: Integration and Testing
   1. ✅ T5.1: Update renderer to create Y-parallel shadows
   2. ✅ T5.2: Ensure proper rendering order (after nodes)

## Completed Integration Tasks

### T6: Update Wall Swimlanes to Use New Y-Axis System
1. ✅ T6.1: Replace `config.yAxisConfig` checks with `config.axisMapping.yAxis`
2. ✅ T6.2: Update `createYAxisWallSwimlanes` to use `axisMapping.yAxis` instead of `yAxisConfig.property`
3. ✅ T6.3: Update wall creation trigger to check for `axisMapping.yAxis` instead of `yAxisConfig`
4. ✅ T6.4: Remove dependency on `yAxisConfig.useLayer` flag

### T7: Improve Y-Parallel Shadow Dimensions
1. ✅ T7.1: Calculate actual X,Z bounds of nodes at each Y level (with node radius)
2. ✅ T7.2: Create shadows that match the footprint of their node groups
3. ✅ T7.3: Add padding/buffer similar to X,Z parallel shadows (Y_SHADOW_PADDING)

### T8: Fix Integration Issues
1. ✅ T8.1: Ensure Y shadows appear when Y dropdown is set (works with axisMapping.yAxis)
2. ✅ T8.2: Coordinate wall shadows with floating Y shadows (both use same trigger)
3. ✅ T8.3: Handle case when Y axis is set to "none" (no shadows created)
4. ✅ T8.4: Update position calculator to fully remove yAxisConfig dependencies


## Current Status

- ✅ Y-parallel floating shadows work with the dropdown
- ✅ Wall swimlanes updated to use new `axisMapping.yAxis` system
- ✅ Y shadow dimensions calculated from actual node bounds with padding
- ✅ Full integration between dropdown and all Y features complete
- ✅ Code compiles without errors

## Implementation Summary

The Y-parallel swimlanes feature is now fully integrated:

1. **Y-axis dropdown** in GUI connects to `axisMapping.yAxis`
2. **Y-parallel shadows** create horizontal floating platforms at different Y heights
3. **Dynamic shadow sizing** based on actual node bounds at each Y level
4. **Wall shadows** project Y property groups onto vertical walls
5. **Unified trigger** - both shadows and walls use `axisMapping.yAxis`
6. **Clean implementation** - removed all `yAxisConfig` dependencies


## Completed Tasks (Latest)
- ✅ Change y lanes to 50% transparency
- ✅ Make x,z dimensions match group shadow
- ✅ Remove front and left vertical walls
- ✅ Remove all child walls inside back and right walls
- ✅ Fix Y-parallel shadows to activate on load

## New Tasks
- ✅ On Y shadows make the label text on each face a different color
- ✅ Set CanCollide to false on Y planes
- ✅ Make Y shadow material concrete (not ForceField)

## T9: Additional Implementation Tasks

1. ✅ T9.1: Change space between y levels to 5 (already set to 5 in RENDERER_CONSTANTS.POSITIONING.LEVEL_SPACING)
2. ✅ T9.2: Figure out why links are not working (fixed - node UUID mismatch with harness_file_ vs harness_node_)
3. ⬛ T9.3: Clean unused items from GUI
   1. ⬛ T9.3.1: Remove num node types
   2. ⬛ T9.3.2: Remove num link types
   3. ⬛ T9.3.3: Remove num pet types
4. ✅ T9.4: Wrap all Y shadows in a Model (completed - YParallelShadows model)
5. ✅ T9.5: In the dropdowns for the axis properties, put the number of types of that property like this: service [15]
6. ⬛ T9.6: Refactor dropdowns into grid
7. ⬛ T9.7: Nix duplicate walls
8. ⬛ T9.8: Push Y shadows to edge
9. ⬛ T9.9: Option for stacks on Y axis
10. ⬛ T9.10: Stacks and Y axis
11. ⬛ T9.11: Pass in default axis options from game.service