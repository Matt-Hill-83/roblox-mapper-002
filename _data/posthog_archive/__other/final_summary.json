{
  "node_counts": [
    {
      "node_type": [
        "file"
      ],
      "count": 600
    },
    {
      "node_type": [
        "flag"
      ],
      "count": 200
    },
    {
      "node_type": [
        "method"
      ],
      "count": 200
    },
    {
      "node_type": [
        "class"
      ],
      "count": 200
    },
    {
      "node_type": [
        "component"
      ],
      "count": 81
    },
    {
      "node_type": [
        "artifact"
      ],
      "count": 78
    },
    {
      "node_type": [
        "module"
      ],
      "count": 54
    },
    {
      "node_type": [
        "user"
      ],
      "count": 50
    },
    {
      "node_type": [
        "resource"
      ],
      "count": 44
    },
    {
      "node_type": [
        "tool"
      ],
      "count": 34
    },
    {
      "node_type": [
        "group"
      ],
      "count": 16
    },
    {
      "node_type": [
        "system"
      ],
      "count": 13
    },
    {
      "node_type": [
        "domain"
      ],
      "count": 7
    },
    {
      "node_type": [
        "workflow"
      ],
      "count": 5
    },
    {
      "node_type": [
        "environment"
      ],
      "count": 3
    },
    {
      "node_type": [
        "infraProvider"
      ],
      "count": 1
    }
  ],
  "relationship_counts": [
    {
      "relationship_type": "defined_in",
      "count": 200
    },
    {
      "relationship_type": "deployed_in",
      "count": 137
    },
    {
      "relationship_type": "deployed_to",
      "count": 113
    },
    {
      "relationship_type": "CONTAINS",
      "count": 70
    },
    {
      "relationship_type": "creates",
      "count": 66
    },
    {
      "relationship_type": "controls",
      "count": 43
    },
    {
      "relationship_type": "OWNS",
      "count": 41
    },
    {
      "relationship_type": "maintains",
      "count": 40
    },
    {
      "relationship_type": "part_of",
      "count": 30
    },
    {
      "relationship_type": "owns",
      "count": 29
    },
    {
      "relationship_type": "depends_on",
      "count": 29
    },
    {
      "relationship_type": "belongs_to",
      "count": 22
    },
    {
      "relationship_type": "monitors",
      "count": 22
    },
    {
      "relationship_type": "IMPLEMENTED_BY",
      "count": 17
    },
    {
      "relationship_type": "USES",
      "count": 14
    },
    {
      "relationship_type": "contains",
      "count": 11
    },
    {
      "relationship_type": "used_by",
      "count": 10
    },
    {
      "relationship_type": "PRODUCES",
      "count": 8
    },
    {
      "relationship_type": "secures",
      "count": 5
    },
    {
      "relationship_type": "tests",
      "count": 5
    },
    {
      "relationship_type": "IMPLEMENTS",
      "count": 4
    },
    {
      "relationship_type": "provided_by",
      "count": 3
    },
    {
      "relationship_type": "PART_OF",
      "count": 3
    },
    {
      "relationship_type": "DOCUMENTED_BY",
      "count": 2
    },
    {
      "relationship_type": "SENDS_DATA_TO",
      "count": 2
    },
    {
      "relationship_type": "STORES_DATA_IN",
      "count": 2
    },
    {
      "relationship_type": "RUNS",
      "count": 1
    },
    {
      "relationship_type": "PACKAGED_AS",
      "count": 1
    },
    {
      "relationship_type": "DEFINED_BY",
      "count": 1
    },
    {
      "relationship_type": "DEPLOYED_ON",
      "count": 1
    },
    {
      "relationship_type": "QUERIES_DATA_FROM",
      "count": 1
    },
    {
      "relationship_type": "USES_CACHE_FROM",
      "count": 1
    },
    {
      "relationship_type": "REQUESTS_DATA_FROM",
      "count": 1
    },
    {
      "relationship_type": "RECEIVES_TASKS_FROM",
      "count": 1
    },
    {
      "relationship_type": "SUBSCRIBES_TO",
      "count": 1
    }
  ],
  "domains": [
    {
      "domain": "customer_messaging",
      "description": "Customer communication and messaging capabilities",
      "systems": [
        "messaging_system"
      ],
      "components": [
        "audience_segmenter",
        "campaign_manager",
        "delivery_service",
        "message_composer"
      ],
      "teams": []
    },
    {
      "domain": "data_platform",
      "description": "Data infrastructure and warehouse capabilities",
      "systems": [
        "data_warehouse_system",
        "data_pipeline_system"
      ],
      "components": [
        "data_catalog",
        "query_executor",
        "data_modeling_engine",
        "etl_service",
        "postgres_service"
      ],
      "teams": [
        "data_warehouse_team",
        "cdp_team"
      ]
    },
    {
      "domain": "feature_management",
      "description": "Feature flag and experimentation capabilities",
      "systems": [
        "experimentation_system",
        "feature_flags_system"
      ],
      "components": [
        "rollout_manager",
        "variant_assignment",
        "experiment_engine",
        "feature_flag_service",
        "plugin_system",
        "postgres_service"
      ],
      "teams": [
        "feature_flags_team"
      ]
    },
    {
      "domain": "llm_observability",
      "description": "AI and LLM monitoring and observability",
      "systems": [
        "llm_observability_system"
      ],
      "components": [
        "performance_evaluator",
        "cost_monitor",
        "response_analyzer",
        "prompt_tracker"
      ],
      "teams": []
    },
    {
      "domain": "product_analytics",
      "description": "Core product analytics functionality for tracking user behavior and metrics",
      "systems": [
        "insights_system"
      ],
      "components": [
        "retention_calculator",
        "funnel_analyzer",
        "product_insights",
        "event_collector",
        "clickhouse_service",
        "clickhouse_queries",
        "hogql_engine",
        "livestream_service",
        "ingestion_api",
        "celery_workers",
        "redis_service",
        "kafka_service",
        "event_processor"
      ],
      "teams": [
        "product_analytics_team"
      ]
    },
    {
      "domain": "user_research",
      "description": "User research tools including session replay and surveys",
      "systems": [
        "surveys_system",
        "session_replay_system"
      ],
      "components": [
        "interview_manager",
        "research_dashboard",
        "feedback_collector",
        "survey_engine"
      ],
      "teams": [
        "replay_team"
      ]
    },
    {
      "domain": "web_analytics",
      "description": "Website performance tracking and analysis",
      "systems": [
        "events_system",
        "web_analytics_system"
      ],
      "components": [
        "livestream_service",
        "ingestion_api",
        "celery_workers",
        "redis_service",
        "kafka_service",
        "event_collector",
        "event_processor",
        "django_backend",
        "event_storage",
        "frontend_app"
      ],
      "teams": [
        "web_analytics_team"
      ]
    }
  ],
  "systems": [
    {
      "system": "authentication_system",
      "description": "User authentication and authorization",
      "domains": [],
      "components": [],
      "teams": [
        "infrastructure_team"
      ]
    },
    {
      "system": "data_pipeline_system",
      "description": "Data ingestion and processing pipeline",
      "domains": [
        "data_platform"
      ],
      "components": [],
      "teams": []
    },
    {
      "system": "data_warehouse_system",
      "description": "Data warehouse and storage system",
      "domains": [
        "data_platform"
      ],
      "components": [
        "postgres_service"
      ],
      "teams": []
    },
    {
      "system": "events_system",
      "description": "Core event collection and processing system",
      "domains": [
        "web_analytics"
      ],
      "components": [
        "livestream_service",
        "ingestion_api",
        "celery_workers",
        "redis_service",
        "kafka_service",
        "event_collector",
        "event_processor"
      ],
      "teams": []
    },
    {
      "system": "experimentation_system",
      "description": "A/B testing and experimentation",
      "domains": [
        "feature_management"
      ],
      "components": [],
      "teams": []
    },
    {
      "system": "feature_flags_system",
      "description": "Feature flag management and delivery",
      "domains": [
        "feature_management"
      ],
      "components": [
        "rollout_manager",
        "variant_assignment",
        "experiment_engine",
        "feature_flag_service",
        "plugin_system"
      ],
      "teams": [
        "feature_flags_team"
      ]
    },
    {
      "system": "infrastructure_system",
      "description": "Core infrastructure and deployment system",
      "domains": [],
      "components": [],
      "teams": [
        "infrastructure_team"
      ]
    },
    {
      "system": "insights_system",
      "description": "Analytics visualization and insights generation",
      "domains": [
        "product_analytics"
      ],
      "components": [
        "clickhouse_service",
        "retention_calculator",
        "funnel_analyzer",
        "product_insights",
        "clickhouse_queries",
        "hogql_engine"
      ],
      "teams": [
        "product_analytics_team"
      ]
    },
    {
      "system": "llm_observability_system",
      "description": "LLM monitoring and observability",
      "domains": [
        "llm_observability"
      ],
      "components": [],
      "teams": []
    },
    {
      "system": "messaging_system",
      "description": "Customer messaging and communication",
      "domains": [
        "customer_messaging"
      ],
      "components": [],
      "teams": []
    },
    {
      "system": "session_replay_system",
      "description": "Session recording and replay functionality",
      "domains": [
        "user_research"
      ],
      "components": [],
      "teams": [
        "replay_team"
      ]
    },
    {
      "system": "surveys_system",
      "description": "User feedback and survey system",
      "domains": [
        "user_research"
      ],
      "components": [],
      "teams": []
    },
    {
      "system": "web_analytics_system",
      "description": "Web analytics tracking and reporting",
      "domains": [
        "web_analytics"
      ],
      "components": [
        "django_backend",
        "event_storage",
        "event_processor",
        "frontend_app"
      ],
      "teams": [
        "web_analytics_team"
      ]
    }
  ],
  "teams": [
    {
      "team": "billing_team",
      "description": "Manages billing, permissions, SSO, and internal messaging",
      "domains": [],
      "systems": [],
      "components": [
        "identity_service"
      ],
      "workflows": []
    },
    {
      "team": "cdp_team",
      "description": "Works on async migrations, data pipelines, webhook delivery service",
      "domains": [
        "data_platform"
      ],
      "systems": [],
      "components": [
        "etl_service",
        "data_pipeline"
      ],
      "workflows": []
    },
    {
      "team": "clickhouse_team",
      "description": "Manages the ClickHouse database and live events",
      "domains": [],
      "systems": [],
      "components": [
        "clickhouse_queries",
        "event_storage"
      ],
      "workflows": []
    },
    {
      "team": "crm_team",
      "description": "Handles CRM features and group analytics",
      "domains": [],
      "systems": [],
      "components": [],
      "workflows": []
    },
    {
      "team": "data_warehouse_team",
      "description": "Handles HogQL, SQL Editor, data warehouse, batch exports",
      "domains": [
        "data_platform"
      ],
      "systems": [],
      "components": [
        "hogql_engine",
        "query_executor",
        "data_modeling_engine",
        "data_warehouse"
      ],
      "workflows": []
    },
    {
      "team": "error_tracking_team",
      "description": "Manages error tracking features and Sentry integration",
      "domains": [],
      "systems": [],
      "components": [],
      "workflows": []
    },
    {
      "team": "feature_flags_team",
      "description": "Responsible for feature flags, cohorts, and early access features",
      "domains": [
        "feature_management"
      ],
      "systems": [
        "feature_flags_system"
      ],
      "components": [
        "rollout_manager",
        "experiment_engine",
        "feature_flag_service"
      ],
      "workflows": []
    },
    {
      "team": "growth_team",
      "description": "Handles onboarding and project home page",
      "domains": [],
      "systems": [],
      "components": [],
      "workflows": []
    },
    {
      "team": "infrastructure_team",
      "description": "Manages authentication, security, platform (US + EU), and self-hosting",
      "domains": [],
      "systems": [
        "infrastructure_system",
        "authentication_system"
      ],
      "components": [
        "monitoring_system",
        "ci_pipeline",
        "identity_service"
      ],
      "workflows": [
        "deployment",
        "testing",
        "code_review"
      ]
    },
    {
      "team": "ingestion_team",
      "description": "Responsible for the ingestion pipeline and persons",
      "domains": [],
      "systems": [],
      "components": [
        "data_pipeline",
        "event_collector",
        "event_processor"
      ],
      "workflows": []
    },
    {
      "team": "product_analytics_team",
      "description": "Handles actions, annotations, dashboards, insights, data management, data visualization",
      "domains": [
        "product_analytics"
      ],
      "systems": [
        "insights_system"
      ],
      "components": [
        "dashboard_engine",
        "retention_calculator",
        "funnel_analyzer",
        "product_insights"
      ],
      "workflows": [
        "support_rotation",
        "feature_development"
      ]
    },
    {
      "team": "replay_team",
      "description": "Handles session replay, toolbar, and heatmaps",
      "domains": [
        "user_research"
      ],
      "systems": [
        "session_replay_system"
      ],
      "components": [
        "session_storage"
      ],
      "workflows": []
    },
    {
      "team": "web_analytics_team",
      "description": "Responsible for session analytics and web analytics",
      "domains": [
        "web_analytics"
      ],
      "systems": [
        "web_analytics_system"
      ],
      "components": [
        "frontend_app"
      ],
      "workflows": []
    }
  ],
  "data_flows": [
    {
      "from_component": "celery_workers",
      "from_type": "worker",
      "relationship": "RECEIVES_TASKS_FROM",
      "to_component": "redis_service",
      "to_type": "cache"
    },
    {
      "from_component": "django_backend",
      "from_type": "backend",
      "relationship": "QUERIES_DATA_FROM",
      "to_component": "clickhouse_service",
      "to_type": "database"
    },
    {
      "from_component": "django_backend",
      "from_type": "backend",
      "relationship": "STORES_DATA_IN",
      "to_component": "postgres_service",
      "to_type": "database"
    },
    {
      "from_component": "django_backend",
      "from_type": "backend",
      "relationship": "USES_CACHE_FROM",
      "to_component": "redis_service",
      "to_type": "cache"
    },
    {
      "from_component": "feature_flag_service",
      "from_type": "service",
      "relationship": "STORES_DATA_IN",
      "to_component": "postgres_service",
      "to_type": "database"
    },
    {
      "from_component": "frontend_app",
      "from_type": "ui",
      "relationship": "REQUESTS_DATA_FROM",
      "to_component": "backend_api",
      "to_type": "api"
    },
    {
      "from_component": "ingestion_api",
      "from_type": "api",
      "relationship": "SENDS_DATA_TO",
      "to_component": "kafka_service",
      "to_type": "messaging"
    },
    {
      "from_component": "kafka_service",
      "from_type": "messaging",
      "relationship": "SENDS_DATA_TO",
      "to_component": "clickhouse_service",
      "to_type": "database"
    },
    {
      "from_component": "livestream_service",
      "from_type": "service",
      "relationship": "SUBSCRIBES_TO",
      "to_component": "kafka_service",
      "to_type": "messaging"
    }
  ],
  "workflows": [
    {
      "workflow": "code_review",
      "description": "Code review process",
      "owning_teams": [
        "infrastructure_team"
      ]
    },
    {
      "workflow": "deployment",
      "description": "Deployment process",
      "owning_teams": [
        "infrastructure_team"
      ]
    },
    {
      "workflow": "feature_development",
      "description": "Process for developing new features",
      "owning_teams": [
        "product_analytics_team"
      ]
    },
    {
      "workflow": "support_rotation",
      "description": "Support hero rotation",
      "owning_teams": [
        "product_analytics_team"
      ]
    },
    {
      "workflow": "testing",
      "description": "Testing methodology",
      "owning_teams": [
        "infrastructure_team"
      ]
    }
  ]
}
